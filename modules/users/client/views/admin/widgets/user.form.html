<fieldset>
  <div class="form-group" show-errors>
    <label for="firstName">First Name</label>
    <input type="text" id="firstName" name="firstName" class="form-control" ng-model="vm.model.firstName"
           placeholder="First Name" required/>
    <div ng-messages="vm.form.firstName.$error" role="alert">
      <p class="help-block error-text" ng-message="required">First name is required.</p>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label for="lastName">Last Name</label>
    <input type="text" id="lastName" name="lastName" class="form-control" ng-model="vm.model.lastName"
           placeholder="Last Name" required/>
    <div ng-messages="vm.form.lastName.$error" role="alert">
      <p class="help-block error-text" ng-message="required">Last name is required.</p>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label class="control-label" for="email">Email Address</label>
    <div class="controls">
      <input class="form-control" type="text" name="email" ng-model="vm.model.email" id="email" ng-change="vm.populateUsername()" required/>
      <div ng-messages="vm.form.email.$error" role="alert">
        <p class="help-block error-text" ng-message="required">Email is required.</p>
      </div>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label class="control-label" for="email">Username</label>
    <div class="controls">
      <input class="form-control" type="text" name="username" ng-model="vm.model.username" id="username" required/>
      <div ng-messages="vm.form.username.$error" role="alert">
        <p class="help-block error-text" ng-message="required">Username is required.</p>
      </div>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label class="control-label" for="organization">Organization</label>
    <div class="controls">
      <input class="form-control" type="text" name="organization" ng-model="vm.model.organization"
             id="organization" required/>
      <div ng-messages="vm.form.organization.$error" role="alert">
        <p class="help-block error-text" ng-message="required">Organization is required.</p>
      </div>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label class="control-label" for="password">Password</label>
    <div class="controls">
      <input class="form-control" type="text" name="password" ng-model="vm.model.password" id="password" ng-required="!vm.model._id"/>
      <button type="button" class="btn btn-default" ng-click="vm.generatePassword()">Generate new password</button>
      <div ng-messages="vm.form.password.$error" role="alert"><p class="help-block error-text" ng-message="required">Password is required.</p></div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label" for="title">Title</label>
    <div class="controls">
      <input class="form-control" type="text" name="title" ng-model="vm.model.title" id="title"/>
    </div>
  </div>
  <div class="form-group" show-errors>
    <label class="control-label" for="roles">Roles</label>
    <input type="text" style="display:none" name="roles"/>
    <div class="controls">
      <div id="roles" ng-repeat="role in ['user','admin']">
              <span>
                <input name="roles" type="checkbox" checklist-model="vm.model.roles" checklist-value="role"> {{role}}
              </span>
      </div>
      <div ng-messages="vm.form.roles.$error" role="alert">
        <p class="help-block error-text" ng-message="required">At least one role is required.</p>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label" for="notes">Notes</label>
    <div class="controls">
      <textarea class="form-control" id="notes" ng-model="vm.model.notes" rows="5"></textarea>
    </div>
  </div>
</fieldset>
